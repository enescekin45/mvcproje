@model mvcproje1.Models.Entity.Tab_Ogrenciler
@{
    ViewBag.Title = "Ogrencigetir";
    Layout = "~/Views/Ogrenci/index.cshtml";
}

[HttpPost]
public ActionResult YeniOgrenci(Tab_Ogrenciler p3)
{
    // Öğrenciye ait kulüp ID'sini al
    int kulupId = p3.OgrKulupId;

    // Öğrenciye ait kulüp bilgisini al
    var klp = db.Tab_Kulupler.Find(kulupId);

    // Öğrenciye ait kulüp bilgisini atama
    p3.Tab_Kulupler = klp;

    // Öğrenciyi veritabanına ekle
    db.Tab_Ogrenciler.Add(p3);

    // Değişiklikleri kaydet
    db.SaveChanges();

    // Index sayfasına yönlendir
    return RedirectToAction("Index");
}

